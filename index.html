<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BORBOLETAS</title>
  </head>
  <body>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;1,300&family=Montserrat:wght@400&display=swap');

      body, html {
        margin: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background-color: #ff9a44; 
      }

      #app {
        width: 100%;
        height: 100%;
        touch-action: none;
        color: #ffffff;
        font-family: 'Montserrat', sans-serif;
        text-align: center;
        text-shadow: 0 1px 3px rgba(0,0,0,0.3);
        user-select: none;
        position: relative;
        z-index: 1;
      }

      #app canvas {
        display: block;
        position: fixed;
        z-index: -1;
        top: 0;
        left: 0;
      }

      #app h1 {
        --fontSize: 50px;
        --lineHeight: 70px;
        width: auto;
        height: calc(2 * var(--lineHeight));
        line-height: var(--lineHeight);
        margin: calc(50vh - var(--lineHeight)) auto 0;
        font-size: var(--fontSize);
      }

      @media (max-width: 600px) {
        #app h1 { --fontSize: 30px; --lineHeight: 40px; }
      }

      @keyframes flap {
        0%, 20%, 80%, 100% { transform: scaleX(1) rotate(5deg); }
        50% { transform: scaleX(0.7) rotate(7deg); }
      }

      h1 span { display: inline-block; animation: flap 0.75s infinite ease-in-out; }

      @keyframes fadeOutTitle { to { opacity: 0; visibility: hidden; } }

      #hero {
        animation: fadeOutTitle 2s ease-in-out forwards;
        animation-delay: 4s;
      }

      #quote-container {
        position: absolute;
        top: 10%; 
        left: 50%;
        transform: translate(-50%, -50%);
        width: 90%; 
        max-width: 700px;
        z-index: 10;
        opacity: 0; 
        pointer-events: none;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      #quote-text {
        font-family: 'Merriweather', serif;
        font-size: 1.5rem;
        line-height: 1.6;
        font-weight: 300;
        font-style: italic;
        color: #fff;
        margin: 0; 
        padding: 0;
        text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        width: 100%;
        text-align: center;
      }
      
      @media (max-width: 600px) {
          #quote-container {
             width: 60%; 
             top: -5%; 
          }
          #quote-text { 
              font-size: 1.2rem; 
              line-height: 1.5;
          }
      }

      .fade-in-anim { animation: fadeInCenter 2.5s ease forwards; }
      .fade-out-anim { animation: fadeOutCenter 2.5s ease forwards; }

      @keyframes fadeInCenter {
          from { opacity: 0; transform: translate(-50%, -40%); }
          to { opacity: 1; transform: translate(-50%, -50%); }
      }

      @keyframes fadeOutCenter {
          from { opacity: 1; transform: translate(-50%, -50%); }
          to { opacity: 0; transform: translate(-50%, -60%); }
      }

    </style>

    <audio id="bg-music" src="musica.mp3" loop preload="auto"></audio>

    <div id="app">
      <div id="hero">
        <h1><span>ðŸ¦‹</span><br />BORBOLETAS</h1>
        <h6>mova, zoom, e deslize</h6>
      </div>

      <div id="quote-container">
          <p id="quote-text"></p>
      </div>
    </div>

    <script type="module">
      import { butterfliesBackground } from 'https://unpkg.com/threejs-toys@0.0.8/build/threejs-toys.module.cdn.min.js'

      const pc = butterfliesBackground({
        el: document.getElementById('app'),
        eventsEl: document.body,
        gpgpuSize: 18,
        background: 0xff9a44, 
        material: 'phong',
        lights: [
          { type: 'ambient', params: [0xffdcb4, 0.6] },
          { type: 'directional', params: [0xffaa33, 1.5], props: { position: [10, 5, 2] } }
        ],
        materialParams: { transparent: true, alphaTest: 0.5 },
        texture: 'https://assets.codepen.io/33787/butterflies.png',
        textureCount: 4,
        wingsScale: [2, 2, 2],
        wingsWidthSegments: 16,
        wingsHeightSegments: 16,
        wingsSpeed: 0.75,
        wingsDisplacementScale: 1.25,
        noiseCoordScale: 0.01,
        noiseTimeCoef: 0.0005,
        noiseIntensity: 0.0025,
        attractionRadius1: 100,
        attractionRadius2: 150,
        maxVelocity: 0.1
      })
    </script>

    <script>
        const audio = document.getElementById("bg-music");
        audio.volume = 0.5; 

        function startMusic() {
            if (audio.paused) {
                audio.play().catch(e => console.log("Play bloqueado pelo browser"));
            }
            document.body.removeEventListener('click', startMusic);
            document.body.removeEventListener('touchstart', startMusic);
        }

        document.body.addEventListener('click', startMusic);
        document.body.addEventListener('touchstart', startMusic);
    </script>

    <script>
        const masterQuotes = [
            "No silÃªncio da oraÃ§Ã£o, Deus molda as respostas que o teu coraÃ§Ã£o procura.",
            "A paz que buscas nÃ£o estÃ¡ fora, mas Naquele que habita em ti.",
            "Jesus prometeu a forÃ§a necessÃ¡ria para cada amanhecer.",
            "Onde os pÃ©s nÃ£o alcanÃ§am, a fÃ© te leva.",
            "A graÃ§a de Deus Ã© o abraÃ§o que sustenta a tua alma.",
            "Lembra-te: o CÃ©u permanece firme sobre ti.",
            "A tua cruz Ã© o caminho para a tua ressurreiÃ§Ã£o.",
            "Deus ouve o que o teu coraÃ§Ã£o nÃ£o consegue falar.",
            "Ser luz Ã© iluminar o caminho de quem estÃ¡ na escuridÃ£o.",
            "A esperanÃ§a em Cristo Ã© a Ã¢ncora segura da alma.",
            "O amor de Deus apenas se sente e se vive.",
            "A fÃ© vÃª o invisÃ­vel e recebe o impossÃ­vel.",
            "Ã‰s um projeto desenhado com detalhes pelo Criador.",
            "O perdÃ£o liberta, e descobres que o prisioneiro eras tu.",
            "Acalma-te. Deus estÃ¡ escrevendo a tua histÃ³ria.",
            "O silÃªncio nÃ£o Ã© vazio; Ã© cheio de respostas para quem sabe ouvir.",
            "Crescemos nos momentos em que somos desafiados a mudar.",
            "A tua essÃªncia Ã© o que te torna inesquecÃ­vel, nÃ£o a tua aparÃªncia.",
            "A paz que procuras comeÃ§a no momento em que deixas de controlar tudo.",
            "Pequenos passos tambÃ©m te levam a grandes lugares.",
            "Assim como a natureza, tudo em ti tem o tempo certo para florescer.",
            "Ã‰ na escuridÃ£o que as estrelas aprendem a brilhar com mais forÃ§a.",
            "Seja gentil com o teu processo; a evoluÃ§Ã£o nÃ£o acontece da noite para o dia.",
            "A vida nÃ£o Ã© sobre a chegada, Ã© sobre quem te tornas durante o caminho.",
            "A felicidade nÃ£o Ã© um destino final, Ã© a maneira como viajas."
        ];

        let availableQuotes = [...masterQuotes];
        const quoteContainer = document.getElementById('quote-container');
        const quoteText = document.getElementById('quote-text');

        function showNextQuote() {
            quoteContainer.classList.remove('fade-in-anim');
            quoteContainer.classList.add('fade-out-anim');

            setTimeout(() => {
                if (availableQuotes.length === 0) {
                    availableQuotes = [...masterQuotes];
                }
                const randomIndex = Math.floor(Math.random() * availableQuotes.length);
                const quote = availableQuotes.splice(randomIndex, 1)[0];
                quoteText.textContent = quote;

                quoteContainer.classList.remove('fade-out-anim');
                quoteContainer.classList.add('fade-in-anim');

            }, 2500); 
        }

        setTimeout(() => {
            showNextQuote(); 
            setInterval(showNextQuote, 11000); 
        }, 5500);
    </script>
  </body>
</html>
